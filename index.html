<!DOCTYPE html>
<html lang="es" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NetOps Toolkit | MedalCode</title>
    <meta name="description" content="Suite de herramientas profesionales para Ingenier√≠a de Redes. VLSM, Puertos, Cableado y m√°s." />
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <!-- Custom CSS (minimal overrides) -->
    <link rel="stylesheet" href="css/main.css?v=2.2.0" />
    <style>
      :root {
        --bs-font-sans-serif: 'Inter', system-ui, -apple-system, sans-serif;
        --bs-font-monospace: 'JetBrains Mono', SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        --bg-sidebar: #212529; /* Dark Sidebar */
      }
      body {
        font-family: var(--bs-font-sans-serif);
      }
      .sidebar {
        height: 100vh;
        overflow-y: auto;
        background-color: var(--bg-sidebar);
        border-right: 1px solid var(--bs-border-color);
      }
      .nav-link {
        color: rgba(255,255,255,0.75);
        border-radius: 0.375rem;
        margin-bottom: 2px;
        display: flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
      }
      .nav-link:hover {
        color: #fff;
        background-color: rgba(255,255,255,0.1);
      }
      .nav-link.active {
        color: #fff;
        background-color: var(--bs-primary);
      }
      .nav-group-title {
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        color: rgba(255,255,255,0.5);
        margin-top: 1.5rem;
        margin-bottom: 0.5rem;
        padding-left: 1rem;
      }
      .main-content {
        height: 100vh;
        overflow-y: auto;
      }
      .tool-view {
        display: none;
      }
      .tool-view.active {
        display: block;
        animation: fadeIn 0.3s ease-in-out;
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .card-hover:hover {
        transform: translateY(-2px);
        transition: transform 0.2s;
        border-color: var(--bs-primary);
      }
      /* Custom utility for monospace inputs */
      .font-monospace-input {
        font-family: var(--bs-font-monospace);
      }
    </style>
  </head>
  <body>
    <div class="d-flex w-100 h-100">
      
      <!-- SIDEBAR -->
      <aside class="sidebar d-none d-md-flex flex-column p-3 text-white" style="width: 280px; flex-shrink: 0;">
        <div class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
          <span class="fs-4 me-2">üõ°Ô∏è</span>
          <div class="lh-1">
            <span class="fs-5 fw-bold">NetOps</span><br>
            <small class="text-white-50" style="font-size: 0.75rem;">Toolkit Pro</small>
          </div>
        </div>
        <hr>
        <ul class="nav nav-pills flex-column mb-auto" id="sidebar-nav">
          
          <!-- General -->
          <div class="nav-group-title">General</div>
          <li class="nav-item">
            <a class="nav-link active" data-target="tool-dashboard">
              <i class="fas fa-chart-line fa-fw"></i> Dashboard
            </a>
          </li>

          <!-- Layer 3 -->
          <div class="nav-group-title">Layer 3: Network</div>
          <li><a class="nav-link" data-target="tool-vlsm"><i class="fas fa-calculator fa-fw"></i> VLSM Calc</a></li>
          <li><a class="nav-link" data-target="tool-subnet"><i class="fas fa-network-wired fa-fw"></i> Subnet Analyzer</a></li>
          <li><a class="nav-link" data-target="tool-ip-ref"><i class="fas fa-book fa-fw"></i> IP Reference</a></li>
          <li><a class="nav-link" data-target="tool-ipv6"><i class="fas fa-globe fa-fw"></i> IPv6 Tools</a></li>
          <li><a class="nav-link" data-target="tool-dns"><i class="fas fa-magnifying-glass fa-fw"></i> DNS Lookup</a></li>

          <!-- Layer 2 -->
          <div class="nav-group-title">Layer 2: Data Link</div>
          <li><a class="nav-link" data-target="tool-oui"><i class="fas fa-tag fa-fw"></i> OUI Lookup</a></li>

          <!-- Automation -->
          <div class="nav-group-title">Automation</div>
          <li><a class="nav-link" data-target="tool-config"><i class="fas fa-file-code fa-fw"></i> Config Gen</a></li>

          <!-- Layer 4 -->
          <div class="nav-group-title">Layer 4: Transport</div>
          <li><a class="nav-link" data-target="tool-ports"><i class="fas fa-plug fa-fw"></i> Port Catalog</a></li>

          <!-- Utilities -->
          <div class="nav-group-title">Utilities</div>
          <li><a class="nav-link" data-target="tool-hex"><i class="fas fa-right-left fa-fw"></i> Converter</a></li>
          <li><a class="nav-link" data-target="tool-bw"><i class="fas fa-stopwatch fa-fw"></i> Transfer Calc</a></li>
          <li><a class="nav-link" data-target="tool-keygen"><i class="fas fa-key fa-fw"></i> Key Gen</a></li>
        </ul>
        <hr>
        <div class="dropdown">
           <span class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false">
             <strong>v2.2.0-beta</strong>
           </span>
           <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdownUser1">
             <li><a class="dropdown-item" href="#">Version Info</a></li>
             <li><a class="dropdown-item" href="https://github.com/Medalcode/NetOpsToolkit" target="_blank">GitHub Repo</a></li>
           </ul>
        </div>
      </aside>

      <!-- MAIN CONTENT -->
      <main class="main-content flex-grow-1 bg-body-tertiary">
        <!-- Topbar -->
        <header class="p-3 mb-3 border-bottom bg-body">
          <div class="container-fluid d-flex justify-content-between align-items-center">
             <span class="text-secondary">NetOps Toolkit / <span id="current-view-name" class="text-body fw-semibold">Dashboard</span></span>
             <div class="global-actions">
                <!-- Theme Toggle Placeholder -->
             </div>
          </div>
        </header>

        <div class="container-fluid px-4 pb-5">
          
          <!-- VIEW: DASHBOARD -->
          <div id="tool-dashboard" class="tool-view active">
             <div class="p-5 mb-4 bg-primary text-white rounded-3 shadow">
               <div class="container-fluid py-2">
                 <h1 class="display-5 fw-bold">üöÄ Centro de Comando</h1>
                 <p class="col-md-8 fs-5">Bienvenido a la suite definitiva para ingenieros de red. Selecciona una herramienta para comenzar.</p>
               </div>
             </div>

             <div class="row align-items-stretch g-4">
                <div class="col-md-4">
                   <div class="card h-100 border-0 shadow-sm card-hover">
                      <div class="card-body">
                         <div class="d-flex align-items-center mb-3">
                            <div class="bg-primary text-white p-3 rounded-circle me-3"><i class="fas fa-calculator fa-lg"></i></div>
                            <h4 class="card-title fw-bold m-0">VLSM Pro</h4>
                         </div>
                         <p class="card-text text-secondary">Dise√±a esquemas de direccionamiento complejos con eficiencia.</p>
                         <button class="btn btn-outline-primary w-100 mt-3 nav-link-internal" data-target="tool-vlsm">Abrir Calculadora</button>
                      </div>
                   </div>
                </div>
                
                <div class="col-md-4">
                   <div class="card h-100 border-0 shadow-sm card-hover">
                      <div class="card-body">
                         <div class="d-flex align-items-center mb-3">
                            <div class="bg-success text-white p-3 rounded-circle me-3"><i class="fas fa-plug fa-lg"></i></div>
                            <h4 class="card-title fw-bold m-0">Puertos</h4>
                         </div>
                         <p class="card-text text-secondary">Cat√°logo r√°pido de puertos TCP/UDP y servicios.</p>
                         <button class="btn btn-outline-success w-100 mt-3 nav-link-internal" data-target="tool-ports">Buscar Puerto</button>
                      </div>
                   </div>
                </div>

                <div class="col-md-4">
                   <div class="card h-100 border-0 shadow-sm card-hover">
                      <div class="card-body">
                         <div class="d-flex align-items-center mb-3">
                            <div class="bg-warning text-dark p-3 rounded-circle me-3"><i class="fas fa-globe fa-lg"></i></div>
                            <h4 class="card-title fw-bold m-0">Tu IP P√∫blica</h4>
                         </div>
                         <div id="public-ip-widget">
                            <span class="text-muted fst-italic">Detectando...</span>
                         </div>
                      </div>
                   </div>
                </div>
             </div>
          </div>

          <!-- VIEW: VLSM CALCULATOR -->
          <div id="tool-vlsm" class="tool-view">
             <div class="d-flex justify-content-between align-items-center mb-4">
                <h2 class="m-0">Calculadora VLSM</h2>
             </div>
             
             <div class="row">
                <div class="col-lg-6">
                   <div class="card shadow-sm border-0">
                      <div class="card-body p-4">
                         <form id="vlsm-form" novalidate>
                            <div class="mb-3">
                               <label for="network" class="form-label fw-semibold">Red Principal (CIDR)</label>
                               <div class="input-group">
                                  <span class="input-group-text"><i class="fas fa-network-wired"></i></span>
                                  <input type="text" class="form-control font-monospace" id="network" placeholder="Ej: 192.168.1.0/24" required>
                               </div>
                               <div class="valid-feedback" id="network-feedback"></div>
                               <div class="form-text">La red base que deseas dividir.</div>
                            </div>
                            
                            <div class="mb-4">
                               <label for="hosts" class="form-label fw-semibold">Hosts por Subred</label>
                               <div class="input-group">
                                  <span class="input-group-text"><i class="fas fa-users"></i></span>
                                  <input type="text" class="form-control" id="hosts" placeholder="Ej: 50, 30, 10" required>
                               </div>
                               <div class="form-text">Ingresa los tama√±os separados por comas.</div>
                            </div>

                            <button type="submit" id="calculate-btn" class="btn btn-primary w-100 py-2">
                               <i class="fas fa-calculator me-2"></i> Calcular Distribuci√≥n
                            </button>
                         </form>
                      </div>
                   </div>
                </div>
                
                <div class="col-lg-6 mt-4 mt-lg-0">
                   <!-- Results Area -->
                   <div id="results" role="region" aria-live="polite">
                      <div class="alert alert-secondary border-0 d-flex align-items-center" role="alert">
                         <i class="fas fa-info-circle me-3 fa-2x"></i>
                         <div>
                            <strong>Esperando datos</strong><br>
                            Ingresa una red y los hosts requeridos para ver el c√°lculo aqu√≠.
                         </div>
                      </div>
                   </div>
                </div>
             </div>
          </div>
          
           <!-- === VIEW: SUBNET ANALYZER === -->
           <div id="tool-subnet" class="tool-view">
              <h2>Analizador de Subredes</h2>
              <div class="card border-0 shadow-sm p-4 mb-4" style="max-width: 600px;">
                <div class="mb-3">
                  <label for="std-ip" class="form-label">Direcci√≥n IP/CIDR</label>
                  <input type="text" class="form-control" id="std-ip" placeholder="Ej: 192.168.1.5/24">
                </div>
                <button id="std-btn" class="btn btn-primary w-100">Analizar</button>
              </div>

              <div id="std-results" class="subnet-details" style="display:none;">
                 <div class="table-responsive">
                    <table class="table table-hover table-bordered border-primary">
                      <tbody>
                        <tr><th class="bg-body-secondary w-25">Direcci√≥n IP</th><td id="out-ip" class="font-monospace text-primary"></td></tr>
                        <tr><th class="bg-body-secondary">M√°scara</th><td id="out-mask" class="font-monospace"></td></tr>
                        <tr><th class="bg-body-secondary">Wildcard</th><td id="out-wildcard" class="font-monospace"></td></tr>
                        <tr><th class="bg-body-secondary">Red</th><td id="out-network" class="font-monospace text-success fw-bold"></td></tr>
                        <tr><th class="bg-body-secondary">Broadcast</th><td id="out-broadcast" class="font-monospace text-danger"></td></tr>
                        <tr><th class="bg-body-secondary">Rango Hosts</th><td id="out-range" class="font-monospace"></td></tr>
                        <tr><th class="bg-body-secondary">Hosts √ötiles</th><td id="out-hosts"></td></tr>
                        <tr><th class="bg-body-secondary">Clase/Tipo</th><td id="out-class"></td></tr>
                      </tbody>
                    </table>
                 </div>
                 <div class="alert alert-dark font-monospace text-info mt-3" id="out-binary" style="overflow-x:auto;"></div>
              </div>
           </div>

          <!-- === VIEW: DNS LOOKUP === -->
          <div id="tool-dns" class="tool-view">
             <h2>DNS Lookup (DoH)</h2>
             <p class="text-secondary">Consulta registros DNS en tiempo real.</p>
             
             <div class="card border-0 shadow-sm mb-4">
                <div class="card-body">
                    <div class="row g-3 align-items-end">
                        <div class="col-md-5">
                            <label class="form-label">Dominio</label>
                            <input type="text" class="form-control" id="dns-domain" placeholder="example.com">
                            <div class="validation-feedback" id="dns-domain-feedback"></div>
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Tipo</label>
                            <select class="form-select" id="dns-type">
                                <option value="A">A (IPv4)</option>
                                <option value="AAAA">AAAA (IPv6)</option>
                                <option value="MX">MX (Mail)</option>
                                <option value="NS">NS (Nameserver)</option>
                                <option value="TXT">TXT</option>
                                <option value="CNAME">CNAME</option>
                                <option value="SOA">SOA</option>
                                <option value="PTR">PTR</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Resolver</label>
                            <select class="form-select" id="dns-resolver">
                                <option value="google">Google (8.8.8.8)</option>
                                <option value="cloudflare">Cloudflare (1.1.1.1)</option>
                            </select>
                        </div>
                        <div class="col-md-1">
                            <button id="btn-dns-lookup" class="btn btn-primary w-100"><i class="fas fa-search"></i></button>
                        </div>
                    </div>
                </div>
             </div>
             <div id="dns-results" class="mt-4"></div>
          </div>
          
          <!-- Placeholders for other tools... Keeping structure minimal for brevity but IDs intact -->
          <div id="tool-ip-ref" class="tool-view"><h2>IP Reference</h2><div id="ip-ref-content"></div></div>
          <div id="tool-ipv6" class="tool-view">
             <h2>Herramientas IPv6</h2>
             <div class="mb-3"><label>Direcci√≥n</label><input type="text" id="ipv6-input" class="form-control font-monospace" placeholder="2001:db8::1"></div>
             <div class="btn-group w-100 mb-3">
                 <button id="btn-ipv6-info" class="btn btn-outline-secondary">Analizar</button>
                 <button id="btn-ipv6-compress" class="btn btn-outline-secondary">Comprimir</button>
                 <button id="btn-ipv6-expand" class="btn btn-outline-secondary">Expandir</button>
             </div>
             <div id="ipv6-results"></div>
          </div>
          <div id="tool-oui" class="tool-view"><h2>OUI Lookup</h2><input type="text" id="oui-search" class="form-control mb-3" placeholder="Buscar MAC..."><div id="oui-results"></div></div>
          <div id="tool-config" class="tool-view"><h2>Config Gen</h2><select id="cfg-template" class="form-select mb-3"><option value="cisco-vlan">Cisco</option></select><div id="cfg-form"></div><button id="btn-cfg-gen" class="btn btn-primary mt-3">Generar</button><pre id="cfg-output" class="bg-dark text-white p-3 rounded mt-3"></pre></div>
          <div id="tool-ports" class="tool-view"><h2>Port Catalog</h2><input type="text" id="port-search" class="form-control mb-3" placeholder="Search..."><div id="port-results" class="row"></div></div>
          <div id="tool-cabling" class="tool-view">
             <h2>Cableado T568</h2>
             <div class="row">
                 <div class="col-md-6"><div class="card bg-dark text-white p-3 mb-3"><h5>T568B</h5>(Visualizaci√≥n simplificada por ahora)</div></div>
                 <div class="col-md-6"><div class="card bg-success text-white p-3"><h5>T568A</h5></div></div>
             </div>
          </div>
          <div id="tool-hex" class="tool-view"><h2>Converter</h2><input id="converter-input" class="form-control mb-3"><input id="res-dec" readonly class="form-control mb-2"><input id="res-bin" readonly class="form-control mb-2"><input id="res-hex" readonly class="form-control"></div>
          <div id="tool-bw" class="tool-view">
             <h2>Calculadora Transferencia</h2>
             <div class="row g-2">
                 <div class="col"><input id="bw-size" class="form-control" placeholder="Size"></div>
                 <div class="col"><select id="bw-size-unit" class="form-select"><option value="GB">GB</option></select></div>
                 <div class="col"><input id="bw-speed" class="form-control" placeholder="Speed"></div>
                 <div class="col"><select id="bw-speed-unit" class="form-select"><option value="Mbps">Mbps</option></select></div>
             </div>
             <button id="btn-bw-calc" class="btn btn-primary mt-3">Calcular</button>
             <div id="bw-results" class="mt-3"></div>
          </div>
          <div id="tool-keygen" class="tool-view">
             <h2>Key Generator</h2>
             <div class="input-group mb-3">
                 <select id="keygen-type" class="form-select"><option value="wpa">WPA</option></select>
                 <input id="keygen-length" type="number" class="form-control" value="32">
                 <button id="btn-keygen" class="btn btn-primary">Generar</button>
             </div>
             <textarea id="keygen-output" class="form-control font-monospace" rows="3" readonly></textarea>
             <!-- Copy handled by JS manually or user selection -->
          </div>

        </div>
      </main>
    </div>

    <!-- Bootstrap Bundle JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script type="module" src="js/main.js"></script>
  </body>
</html>
