<!DOCTYPE html>
<html class="dark" lang="es">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>NetOps Toolkit - Cyber Command</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=JetBrains+Mono:wght@400;500&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@100..700,0..1&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
    
    <style>
        .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 300, 'GRAD' 0, 'opsz' 24; font-size: 20px; }
        .mono-data { font-family: 'JetBrains Mono', monospace; }
        .terminal-glow { box-shadow: inset 0 0 10px rgba(0, 112, 243, 0.05); }
        .cyber-border { border: 1px solid #222222; }
        .cyber-border:hover { border-color: #0070F3; box-shadow: 0 0 8px rgba(0, 112, 243, 0.2); }
        input:focus, select:focus { outline: none !important; border-color: #0070F3 !important; box-shadow: 0 0 0 1px #0070F3 !important; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #0A0A0A; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-slate-100 min-h-screen flex overflow-hidden">
    
    <!-- Sidebar -->
    <aside class="w-16 flex-shrink-0 flex flex-col items-center py-6 bg-surface-dark border-r border-border-dark z-20">
        <div class="mb-10 text-primary cursor-pointer" onclick="location.reload()">
            <span class="material-symbols-outlined !text-3xl">terminal</span>
        </div>
        <nav class="flex flex-col gap-6 flex-1">
            <a class="p-2 text-primary bg-primary/10 rounded group relative nav-item active" data-target="vlsm" href="#" title="Layer 3">
                <span class="material-symbols-outlined">layers</span>
                <span class="absolute left-14 bg-primary text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50">Layer 3 (VLSM)</span>
            </a>
            <a class="p-2 text-slate-500 hover:text-white transition-colors group relative nav-item" data-target="tools" href="#" title="Tools">
                <span class="material-symbols-outlined">build</span>
                <span class="absolute left-14 bg-surface-dark border border-border-dark text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50">All Tools</span>
            </a>
        </nav>
        <div class="flex flex-col gap-6 mt-auto">
            <a class="p-2 text-slate-500 hover:text-white transition-colors" href="#">
                <span class="material-symbols-outlined">settings</span>
            </a>
            <div class="size-8 rounded-full bg-slate-800 border border-border-dark overflow-hidden">
               <div class="flex items-center justify-center h-full w-full text-xs font-bold bg-primary text-white">MC</div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex flex-col overflow-hidden relative">
        
        <!-- Header -->
        <header class="h-16 flex items-center justify-between px-8 bg-background-dark border-b border-border-dark flex-shrink-0">
            <div class="flex items-center gap-4">
                <nav class="flex items-center gap-2 text-sm font-medium">
                    <span class="text-slate-500 font-bold tracking-widest">NETOPS</span>
                    <div class="h-4 w-px bg-slate-800 mx-2"></div>
                    <button class="px-3 py-1.5 text-[10px] font-bold uppercase tracking-widest rounded bg-primary/10 text-primary border border-primary/20 hover:bg-primary hover:text-white transition-all" onclick="showView('view-vlsm', 'VLSM CALCULATOR')">
                        LAYER 3
                    </button>
                    <button class="px-3 py-1.5 text-[10px] font-bold uppercase tracking-widest rounded bg-surface-dark text-slate-400 border border-border-dark hover:text-white hover:border-primary transition-all" onclick="showToolsGrid();">
                        ALL TOOLS
                    </button>
                </nav>
            </div>
            <div class="flex items-center gap-8">
                <!-- Status (Visual Only for now) -->
                <div class="hidden md:flex items-center gap-6 text-[10px] tracking-widest uppercase font-bold">
                    <div class="flex flex-col gap-1"><span class="text-slate-500">SYSTEM</span><span class="text-signal-green mono-data text-xs">ONLINE</span></div>
                    <div class="flex flex-col gap-1"><span class="text-slate-500">LATENCY</span><span class="text-primary mono-data text-xs">2ms</span></div>
                </div>
                <!-- Search -->
                <div class="relative group">
                    <div class="flex items-center bg-surface-dark border border-border-dark rounded px-3 py-1.5 w-64 group-hover:border-primary/50 transition-colors">
                        <span class="material-symbols-outlined !text-sm text-slate-500 mr-2">search</span>
                        <input class="bg-transparent border-none p-0 text-xs w-full focus:ring-0 placeholder:text-slate-600 text-white" placeholder="Search functionality..." type="text"/>
                        <span class="text-[10px] bg-slate-800 text-slate-400 px-1.5 py-0.5 rounded ml-2">⌘K</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Scrollable Area -->
        <section class="flex-1 overflow-y-auto p-8 custom-scrollbar">
            <div class="max-w-7xl mx-auto space-y-6">
                
                <!-- === TOOLS GRID SECTION (Hidden by default) === -->
                <div id="view-tools" class="hidden grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    
                    <!-- Subnet Analyzer -->
                    <div class="bg-surface-dark cyber-border rounded p-6 hover:border-primary transition-colors cursor-pointer group" onclick="switchToolView('tool-subnet')">
                        <div class="text-primary mb-4 p-3 bg-primary/10 rounded inline-block group-hover:bg-primary group-hover:text-white transition-colors">
                            <span class="material-symbols-outlined">network_check</span>
                        </div>
                        <h3 class="text-lg font-bold text-white mb-2">Subnet Analyzer</h3>
                        <p class="text-slate-400 text-sm">Detailed analysis of IP addresses, classes, and binary representation.</p>
                    </div>

                    <!-- DNS Lookup -->
                    <div class="bg-surface-dark cyber-border rounded p-6 hover:border-primary transition-colors cursor-pointer group" onclick="switchToolView('tool-dns')">
                        <div class="text-signal-green mb-4 p-3 bg-signal-green/10 rounded inline-block group-hover:bg-signal-green group-hover:text-black transition-colors">
                            <span class="material-symbols-outlined">dns</span>
                        </div>
                        <h3 class="text-lg font-bold text-white mb-2">DNS Lookup</h3>
                        <p class="text-slate-400 text-sm">Real-time DNS record verification (A, MX, TXT) via secure DoH.</p>
                    </div>

                    <!-- IPv6 Tools -->
                    <div class="bg-surface-dark cyber-border rounded p-6 hover:border-primary transition-colors cursor-pointer group" onclick="switchToolView('tool-ipv6')">
                        <div class="text-purple-500 mb-4 p-3 bg-purple-500/10 rounded inline-block group-hover:bg-purple-500 group-hover:text-white transition-colors">
                            <span class="material-symbols-outlined">public</span>
                        </div>
                        <h3 class="text-lg font-bold text-white mb-2">IPv6 Suite</h3>
                        <p class="text-slate-400 text-sm">Compress, expand and analyze IPv6 addresses.</p>
                    </div>

                    <!-- OUI Lookup -->
                    <div class="bg-surface-dark cyber-border rounded p-6 hover:border-primary transition-colors cursor-pointer group" onclick="switchToolView('tool-oui')">
                        <div class="text-yellow-500 mb-4 p-3 bg-yellow-500/10 rounded inline-block group-hover:bg-yellow-500 group-hover:text-black transition-colors">
                            <span class="material-symbols-outlined">tag</span>
                        </div>
                        <h3 class="text-lg font-bold text-white mb-2">MAC OUI Lookup</h3>
                        <p class="text-slate-400 text-sm">Identify device manufacturers from MAC addresses.</p>
                    </div>

                    <!-- Config Gen -->
                    <div class="bg-surface-dark cyber-border rounded p-6 hover:border-primary transition-colors cursor-pointer group" onclick="switchToolView('tool-config')">
                        <div class="text-pink-500 mb-4 p-3 bg-pink-500/10 rounded inline-block group-hover:bg-pink-500 group-hover:text-white transition-colors">
                            <span class="material-symbols-outlined">description</span>
                        </div>
                        <h3 class="text-lg font-bold text-white mb-2">Config Gen</h3>
                        <p class="text-slate-400 text-sm">Generate boilerplate configs for Cisco/Mikrotik.</p>
                    </div>

                    <!-- Key Gen -->
                    <div class="bg-surface-dark cyber-border rounded p-6 hover:border-primary transition-colors cursor-pointer group" onclick="switchToolView('tool-keygen')">
                        <div class="text-cyan-500 mb-4 p-3 bg-cyan-500/10 rounded inline-block group-hover:bg-cyan-500 group-hover:text-black transition-colors">
                            <span class="material-symbols-outlined">key</span>
                        </div>
                        <h3 class="text-lg font-bold text-white mb-2">Key Generator</h3>
                        <p class="text-slate-400 text-sm">Generate chaotic passwords and WPA keys securely.</p>
                    </div>

                    <!-- Ports -->
                    <div class="bg-surface-dark cyber-border rounded p-6 hover:border-primary transition-colors cursor-pointer group" onclick="switchToolView('tool-ports')">
                        <div class="text-orange-500 mb-4 p-3 bg-orange-500/10 rounded inline-block group-hover:bg-orange-500 group-hover:text-white transition-colors">
                            <span class="material-symbols-outlined">router</span>
                        </div>
                        <h3 class="text-lg font-bold text-white mb-2">Port Reference</h3>
                        <p class="text-slate-400 text-sm">Searchable database of common TCP/UDP ports.</p>
                    </div>
                </div>

                <!-- === DYNAMIC TOOL CONTAINER (Where individual tools load) === -->
                <div id="view-dynamic-tool" class="hidden bg-surface-dark cyber-border rounded p-6 min-h-[400px]">
                    <div class="flex items-center justify-between mb-6 pb-4 border-b border-border-dark">
                        <h3 class="text-xl font-bold text-white uppercase tracking-wider" id="dynamic-tool-title">Tool Name</h3>
                        <button class="text-slate-400 hover:text-white flex items-center gap-2 text-xs uppercase font-bold" onclick="showToolsGrid()">
                            <span class="material-symbols-outlined !text-sm">arrow_back</span> Back to Grid
                        </button>
                    </div>
                    <div id="dynamic-tool-content">
                        <!-- Tool logic will inject content here -->
                    </div>
                </div>
                    
                    <!-- Public IP Widget -->
                    <div class="col-span-12 lg:col-span-4 flex flex-col gap-4">
                        <div class="bg-surface-dark cyber-border rounded p-4 terminal-glow flex flex-col h-full min-h-[220px]">
                            <div class="flex items-center justify-between mb-4 border-b border-border-dark pb-2">
                                <div class="flex items-center gap-2">
                                    <div class="flex gap-1.5"><div class="size-2 rounded-full bg-red-500/50"></div><div class="size-2 rounded-full bg-yellow-500/50"></div><div class="size-2 rounded-full bg-green-500/50"></div></div>
                                    <span class="text-[10px] text-slate-500 font-mono ml-2 uppercase tracking-tighter">Terminal — root@netops</span>
                                </div>
                                <span class="material-symbols-outlined !text-sm text-slate-500 cursor-pointer hover:text-white" id="refresh-ip">refresh</span>
                            </div>
                            <div class="mono-data text-sm space-y-2 flex-1" id="public-ip-widget">
                                <p class="text-slate-400">$ initializing connection...</p>
                            </div>
                        </div>
                    </div>

                    <!-- VLSM Form -->
                    <div class="col-span-12 lg:col-span-8">
                        <div class="bg-surface-dark cyber-border rounded p-6">
                            <div class="flex items-center justify-between mb-6">
                                <h3 class="text-xs font-bold tracking-[0.2em] uppercase text-white">VLSM Configuration</h3>
                                <button id="btn-calc-vlsm" class="bg-primary hover:bg-primary/80 text-white text-[10px] font-bold uppercase tracking-widest px-4 py-2 rounded transition-colors shadow-lg shadow-primary/20">
                                    Calculate Space
                                </button>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-[10px] text-slate-500 font-bold mb-1 uppercase">Major Network Address</label>
                                        <input id="vlsm-ip" class="w-full bg-black border border-border-dark rounded px-3 py-2 text-sm mono-data text-white placeholder-slate-700" type="text" value="192.168.1.0" placeholder="e.g. 192.168.1.0"/>
                                    </div>
                                    <div>
                                        <label class="block text-[10px] text-slate-500 font-bold mb-1 uppercase">Subnet Mask (CIDR)</label>
                                        <select id="vlsm-mask" class="w-full bg-black border border-border-dark rounded px-3 py-2 text-sm mono-data text-white cursor-pointer">
                                            <option value="8">/8 (255.0.0.0)</option>
                                            <option value="16">/16 (255.255.0.0)</option>
                                            <option value="24" selected>/24 (255.255.255.0)</option>
                                            <option value="25">/25</option>
                                            <option value="26">/26</option>
                                            <option value="27">/27</option>
                                            <option value="28">/28</option>
                                            <option value="29">/29</option>
                                            <option value="30">/30</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="space-y-4">
                                    <label class="block text-[10px] text-slate-500 font-bold mb-1 uppercase">Required Hosts per Subnet</label>
                                    <div class="relative">
                                        <input id="vlsm-hosts" class="w-full bg-black border border-border-dark rounded px-3 py-2 text-sm mono-data text-white placeholder-slate-700" placeholder="e.g. 50, 20, 10, 5" type="text"/>
                                        <div class="text-[10px] text-slate-500 mt-1">Comma separated list (descending order recommended)</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Results Container -->
                    <div class="col-span-12" id="vlsm-visualizer-container">
                        <!-- Visualizer injected here by JS -->
                    </div>

                    <div class="col-span-12">
                        <!-- Table injected here by JS -->
                        <div id="vlsm-results-container"></div> 
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="h-8 bg-surface-dark border-t border-border-dark flex items-center justify-between px-4 flex-shrink-0 z-10">
            <div class="flex items-center gap-4">
                <div class="flex items-center gap-1.5">
                    <div class="size-2 bg-signal-green rounded-full animate-pulse"></div>
                    <span class="text-[10px] text-slate-500 uppercase font-bold tracking-tighter">System Ready — v3.0.0-cyber</span>
                </div>
            </div>
            <div class="flex items-center gap-4 mono-data text-[10px] text-slate-500">
                <span>MEDALCODE</span>
                <span>SECURE</span>
            </div>
        </footer>
    </main>

    <!-- App Logic -->
    <script type="module" src="/src/js/main.js"></script>
</body>
</html>
